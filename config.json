{
    "project": {
        "arguments": {
            "project_name": "deployer.js",
            "author": "Gerkin",
            "documentation": {
                "base": {
                    "url": "http://deployer.gerkindevelopment.net/",
                    "path": "/mnt/mutualized/work/nodejs/documentation/deployer.js/"
                },
                "format": [
                    "%BASE%",
                    "%VERSION_MINOR%",
                    "%TYPE%"
                ],
                "resources": {
                    "url": "http://deployer.gerkindevelopment.net/resources/",
                    "path": "/mnt/mutualized/work/nodejs/documentation/deployer.js/resources/"
                }
            },
            "company": {
                "start": "2015",
                "name": "GerkinDevelopment"
            }
        },
        "commands": {
            "_default": {
                "awake": true,
                "command_group": false,
                "actions": [
                    {
                        "action": "less-compile",
                        "data": {
                            "browsers": [
                                "> 1%",
                                "IE 8",
                                "last 2 versions"
                            ],
                            "from": "^(\\.\\/templates.*)\\.less$",
                            "to": "$1.css"
                        },
                        "events": {
                            "onchange": {
                                "selection": {
                                    "\\.less€$": true
                                },
                                "warmup": false
                            }
                        },
                        "next": {
                            "action": "minify",
                            "data": {
                                "from": "^(\\.\\/templates.*)(\\.(?:cs|j)s)$",
                                "to": "$1.min$2"
                            }
                        }
                    },
                    {
                        "action": "minify",
                        "data": {
                            "from": "^(\\.\\/templates.*)(\\.(?:cs|j)s)$",
                            "to": "$1.min$2"
                        },
                        "events": {
                            "onchange": {
                                "selection": {
                                    "\\.(cs|j)s€$": true,
                                    "\\.min\\.(cs|j)s$": false
                                },
                                "warmup": false
                            }
                        }
                    }
                ]
            },
            "documentate": {
                "arguments": {
                    "version": {
                        "type": "prompt"
                    }
                },
                "command_group": true,
                "mode": "parallel",
                "actions": [
                    {
                        "action": "jsdoc",
                        "data": {
                            "private": true,
                            "selection": {
                                "\\.(js)$": true,
                                "\\.min\\.(js)$": false,
                                "^\\.\\/node_modules($|\\/)": false,
                                "^\\.\\/templates($|\\/)": false,
                                "^\\.\\/actions\\/ithoughts-index-doc\\.js": false
                            },
                            "template": "default",
                            "template.bck": "gerkindevelopment",
                            "typepath": "javascript",
                            "destinationPath": "%documentation.base.path%%version_minor%/javascript/",
                            "basePath": "%documentation.base.path%%version_minor%/javascript/"
                        },
                        "arguments": {
                            "version_minor": {
                                "type": "regex_replace",
                                "value": "%version%",
                                "search": "^(\\d+)\\.(\\d+).*",
                                "replacement": "$1.$2"
                            }
                        }
                    },
                    {
                        "action": "ithoughts-index-doc",
                        "data": {
                            "template": "gerkindevelopment",
                            "head_links": {
                                "GerkinDevelopment": "https://www.gerkindevelopment.net/",
                                "Back to Documentation Index": "/"
                            },
                            "doc_links": [
                                {
                                    "labels": {
                                        "main": "JavaScript",
                                        "sub": "Node.js"
                                    },
                                    "image": "/images/serverside.jpg",
                                    "link": "javascript/index.html"
                                }
                            ],
                            "project_name": "%project_name%",
                            "author": "%author%",
                            "version": "%version_minor%",
                            "company_start": "%company.start%",
                            "root": "%documentation.base.url%",
                            "baseUrl": "%documentation.base.url%%version_minor%",
                            "basePath": "%documentation.base.path%%version_minor%",
                            "resourcesUrl": "../resources",
                            "resourcesPath": "%documentation.base.path%resources"
                        },
                        "arguments": {
                            "version_minor": {
                                "type": "regex_replace",
                                "value": "%version%",
                                "search": "^(\\d+)\\.(\\d+).*",
                                "replacement": "$1.$2"
                            }
                        }
                    },
                    {
                        "action": "version-history",
                        "data": {
                            "basePath": "%documentation.base.path%",
                            "template": "gerkindevelopment",
                            "version_minor": "%version_minor%",
                            "versionUrl": "%documentation.base.url%%version_minor%",
                            "project_name": "%project_name%",
                            "author": "%author%",
                            "resourcesUrl": "./resources"
                        },
                        "arguments": {
                            "version_minor": {
                                "type": "regex_replace",
                                "value": "%version%",
                                "search": "^(\\d+)\\.(\\d+).*",
                                "replacement": "$1.$2"
                            }
                        }
                    }
                ]
            },
            "documentate2": {
                "arguments": {
                    "version": {
                        "type": "prompt"
                    }
                },
                "command_group": true,
                "actionGroup": {
                    "mode": "parallel",
                    "actions": [
                        {
                            "action": "jsdoc",
                            "data": {
                                "private": true,
                                "selection": {
                                    "\\.(js)$": true,
                                    "\\.min\\.(js)$": false,
                                    "^\\.\\/node_modules($|\\/)": false,
                                    "^\\.\\/templates($|\\/)": false,
                                    "^\\.\\/actions\\/ithoughts-index-doc\\.js": false
                                },
                                "template": "default",
                                "template.bck": "gerkindevelopment",
                                "typepath": "javascript",
                                "destinationPath": "%documentation.base.path%%version_minor%/javascript/",
                                "basePath": "%documentation.base.path%%version_minor%/javascript/"
                            },
                            "arguments": {
                                "version_minor": {
                                    "type": "regex_replace",
                                    "value": "%version%",
                                    "search": "^(\\d+)\\.(\\d+).*",
                                    "replacement": "$1.$2"
                                }
                            }
                        },
                        {
                            "action": "ithoughts-index-doc",
                            "data": {
                                "template": "gerkindevelopment",
                                "head_links": {
                                    "GerkinDevelopment": "https://www.gerkindevelopment.net/",
                                    "Back to Documentation Index": "/"
                                },
                                "doc_links": [
                                    {
                                        "labels": {
                                            "main": "JavaScript",
                                            "sub": "Node.js"
                                        },
                                        "image": "/images/serverside.jpg",
                                        "link": "javascript/index.html"
                                    }
                                ],
                                "project_name": "%project_name%",
                                "author": "%author%",
                                "version": "%version_minor%",
                                "company_start": "%company.start%",
                                "root": "%documentation.base.url%",
                                "baseUrl": "%documentation.base.url%%version_minor%",
                                "basePath": "%documentation.base.path%%version_minor%",
                                "resourcesUrl": "../resources",
                                "resourcesPath": "%documentation.base.path%resources"
                            },
                            "arguments": {
                                "version_minor": {
                                    "type": "regex_replace",
                                    "value": "%version%",
                                    "search": "^(\\d+)\\.(\\d+).*",
                                    "replacement": "$1.$2"
                                }
                            }
                        },
                        {
                            "action": "version-history",
                            "data": {
                                "basePath": "%documentation.base.path%",
                                "template": "gerkindevelopment",
                                "version_minor": "%version_minor%",
                                "versionUrl": "%documentation.base.url%%version_minor%",
                                "project_name": "%project_name%",
                                "author": "%author%",
                                "resourcesUrl": "./resources"
                            },
                            "arguments": {
                                "version_minor": {
                                    "type": "regex_replace",
                                    "value": "%version%",
                                    "search": "^(\\d+)\\.(\\d+).*",
                                    "replacement": "$1.$2"
                                }
                            }
                        }
                    ]
                }
            },
            "release": {
                "arguments": {
                    "version": {
                        "type": "prompt"
                    },
                    "versionMessage": {
                        "type": "prompt"
                    }
                },
                "description": "Makes a release by pre-commiting on git, updating file versions, post-commit & push",
                "command_group": true,
                "actionGroup": {
                    "mode": "serie",
                    "actions": [
                        {
                            "action": "git",
                            "data": {
                                "actions": [
                                    {
                                        "action": "commit",
                                        "data": {
                                            "message": "Pre-process version %version%"
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "action": "files-version",
                            "data": {
                                "selection": {
                                    "\\.(js)$": true,
                                    "\\.min\\.(js)$": false,
                                    "^\\.\\/node_modules($|\\/)": false,
                                    "^\\.\\/templates($|\\/)": false
                                },
                                "setDiffs": {
                                    "/(@version\\s+)\\d+(\\.\\d+)*": "$1%version%"
                                },
                                "targetVersion": "%version%",
                                "companyName": "%company.name%"
                            }
                        },
                        {
                            "command_group": true,
                            "mode": "parallel",
                            "actions": [
                                {
                                    "action": "jsdoc",
                                    "data": {
                                        "private": true,
                                        "selection": {
                                            "\\.(js)$": true,
                                            "\\.min\\.(js)$": false,
                                            "^\\.\\/node_modules($|\\/)": false,
                                            "^\\.\\/templates($|\\/)": false,
                                            "^\\.\\/actions\\/ithoughts-index-doc\\.js": false
                                        },
                                        "template": "default",
                                        "template.bck": "gerkindevelopment",
                                        "typepath": "javascript",
                                        "destinationPath": "%documentation.base.path%%version_minor%/javascript/",
                                        "basePath": "%documentation.base.path%%version_minor%/javascript/"
                                    },
                                    "arguments": {
                                        "version_minor": {
                                            "type": "regex_replace",
                                            "value": "%version%",
                                            "search": "^(\\d+)\\.(\\d+).*",
                                            "replacement": "$1.$2"
                                        }
                                    }
                                },
                                {
                                    "action": "ithoughts-index-doc",
                                    "data": {
                                        "template": "gerkindevelopment",
                                        "head_links": {
                                            "GerkinDevelopment": "https://www.gerkindevelopment.net/",
                                            "Back to Documentation Index": "/"
                                        },
                                        "doc_links": [
                                            {
                                                "labels": {
                                                    "main": "JavaScript",
                                                    "sub": "Node.js"
                                                },
                                                "image": "/images/serverside.jpg",
                                                "link": "javascript/index.html"
                                            }
                                        ],
                                        "project_name": "%project_name%",
                                        "author": "%author%",
                                        "version": "%version_minor%",
                                        "company_start": "%company.start%",
                                        "root": "%documentation.base.url%",
                                        "baseUrl": "%documentation.base.url%%version_minor%",
                                        "basePath": "%documentation.base.path%%version_minor%",
                                        "resourcesUrl": "../resources",
                                        "resourcesPath": "%documentation.base.path%resources"
                                    },
                                    "arguments": {
                                        "version_minor": {
                                            "type": "regex_replace",
                                            "value": "%version%",
                                            "search": "^(\\d+)\\.(\\d+).*",
                                            "replacement": "$1.$2"
                                        }
                                    }
                                },
                                {
                                    "action": "version-history",
                                    "data": {
                                        "basePath": "%documentation.base.path%",
                                        "template": "gerkindevelopment",
                                        "version_minor": "%version_minor%",
                                        "versionUrl": "%documentation.base.url%%version_minor%",
                                        "project_name": "%project_name%",
                                        "author": "%author%",
                                        "resourcesUrl": "./resources"
                                    },
                                    "arguments": {
                                        "version_minor": {
                                            "type": "regex_replace",
                                            "value": "%version%",
                                            "search": "^(\\d+)\\.(\\d+).*",
                                            "replacement": "$1.$2"
                                        }
                                    }
                                }
                            ]
                        },
                        {
                            "command_group": true,
                            "mode": "parallel",
                            "actions": [
                                {
                                    "action": "git",
                                    "data": {
                                        "actions": [
                                            {
                                                "action": "commit",
                                                "data": {
                                                    "message": "%versionMessage%"
                                                }
                                            },
                                            {
                                                "action": "tag",
                                                "data": {
                                                    "label": "v%version%",
                                                    "message": "%versionMessage%"
                                                }
                                            },
                                            {
                                                "action": "push"
                                            }
                                        ]
                                    }
                                },
                                {
                                    "action": "git",
                                    "data": {
                                        "path": "/mnt/mutualized/work/nodejs/documentation/deployer.js",
                                        "actions": [
                                            {
                                                "action": "commit",
                                                "data": {
                                                    "message": "%versionMessage%"
                                                }
                                            },
                                            {
                                                "action": "tag",
                                                "data": {
                                                    "label": "v%version%",
                                                    "message": "%versionMessage%"
                                                }
                                            },
                                            {
                                                "action": "push"
                                            }
                                        ]
                                    }
                                }
                            ]
                        }
                    ]
                }
            }
        },
        "versions": {
            "0.1": "http://deployer.gerkindevelopment.net/0.1",
            "0.2": "http://deployer.gerkindevelopment.net/0.2"
        },
        "checksums": {
            "./deployer.js": {
                "sha1": "547026d9caab0a6ac84247ad289629c304ba3aaa",
                "md5": "848fe5addd692be1293c6b403962ea62"
            },
            "./utils.js": {
                "sha1": "1462df22fa72e4e8a9c598f45075249ce383e67f",
                "md5": "8220c12a89222d60dd83702a4fcc9a32"
            },
            "./actions/cp.js": {
                "sha1": "fa9f60c0356c9deb1998638232dfa4c004656138",
                "md5": "5b4c213f092065c81cdcfdb1c384c6fc"
            },
            "./actions/exec.js": {
                "md5": "a9bd9116e7ca2f47a4c7e7fe58ec99ac",
                "sha1": "0a6c7996064348252bcfa22cf659932b8212f932"
            },
            "./actions/git.js": {
                "sha1": "5314aa8afea9d31669b9086f83e2cd3172cf0eed",
                "md5": "9b2182f4e2b1c359b54d7f7ef48ff246"
            },
            "./actions/files-version.js": {
                "sha1": "60a16cbbefc42a02d01d012d8889b688dbe39b41",
                "md5": "1deb1eed73b133d16c79f4e1f265285b"
            },
            "./actions/ithoughts-index-doc.js": {
                "sha1": "9092db23df67398c84c54350d930db39082c6ad1",
                "md5": "c7b56186910d99cd8429e57a1353da16"
            },
            "./actions/jsdoc.js": {
                "sha1": "b4a8a9afa8f8c4b8c5a82920a26206a3a5ba21a1",
                "md5": "1fb47d2fb3442bd239f8014232741401"
            },
            "./actions/less-compile.js": {
                "sha1": "31886f3fbf6faff6cbeace1ab5573c3a00f376f4",
                "md5": "6c6720ccce7722980aeaa2b31a2e78ef"
            },
            "./actions/minify.js": {
                "sha1": "93f5c15db604b19af95c6649700194db11ddfbe3",
                "md5": "b771e2bd453b034df749a90d10d44074"
            },
            "./actions/phpdoc.js": {
                "sha1": "2cca2a858eb904bba7b67608d78685203c488890",
                "md5": "37c1c14162ac2e4f32bd9f46bf8da7b1"
            },
            "./actions/svn.js": {
                "sha1": "36b5741341e4eb96ba93523ade81389b4239d5c1",
                "md5": "aa7bda30cba3d38f0fce925636827d6c"
            },
            "./actions/version-history.js": {
                "sha1": "60dcd3282e4caf80b00bdaa3b8b9ada0f13fb26f",
                "md5": "1fd94699c9a52420c1ae84b2f840359b"
            },
            "./actions/wordpress-upgrade.js": {
                "sha1": "b980c8389957db90912c70e3ccdfb1bc37976b53",
                "md5": "0476851d2e97e2e92c277bac1c6b3626"
            }
        }
    },
    "dirty": true
}